# üöÄ Personal Management System - –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìÖ –î–∞—Ç–∞ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏: 30.10.2024

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
1. **WorkRequest** - –ó–∞—è–≤–∫–∏ –Ω–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
2. **User** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å —Ä–æ–ª—è–º–∏ Spatie + –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏  
3. **Shift** - –°–º–µ–Ω—ã —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–∞—Å—á–µ—Ç–æ–≤ –∏ –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è
4. **Category/Specialty** - –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–µ–π
5. **WorkType** - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –≤–∏–¥–æ–≤ —Ä–∞–±–æ—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)
6. **Contractor** - –ü–æ–¥—Ä—è–¥—á–∏–∫–∏ —Å –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏
7. **BrigadierAssignment** - –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –±—Ä–∏–≥–∞–¥–∏—Ä–æ–≤ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
8. **MassPersonnelReport** - –û—Ç—á–µ—Ç—ã –ø–æ –º–∞—Å—Å–æ–≤–æ–º—É –ø–µ—Ä—Å–æ–Ω–∞–ª—É

## üîÑ –ê–∫—Ç—É–∞–ª—å–Ω—ã–π Workflow —Å–∏—Å—Ç–µ–º—ã

### –ü—Ä–æ—Ü–µ—Å—Å –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞:
1. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–∏—Ä–æ–≤ —á–µ—Ä–µ–∑ BrigadierAssignment
2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏** ‚Üí WorkRequest —Å –ø—Ä–æ–µ–∫—Ç–æ–º/—Ü–µ–ª—å—é/–∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π
3. **–ö–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏–µ** ‚Üí –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π
4. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç** ‚Üí 
   - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–º–µ–Ω—É ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Üí –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–º–µ–Ω—É
   - –î–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ (–±–µ–∑ —á–µ–∫–∞) –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã (–ø–æ —á–µ–∫—É)
   - –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è
5. **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ** ‚Üí 
   - –î–∏—Å–ø–µ—Ç—á–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∏ —Ä–∞—Å—Ö–æ–¥—ã
   - –°–æ–≥–ª–∞—Å—É–µ—Ç —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–º–µ–Ω—É
6. **–†–∞—Å—á–µ—Ç—ã** ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –ø–æ —Ñ–æ—Ä–º—É–ª–µ
7. **–û–ø–ª–∞—Ç–∞** ‚Üí –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–µ–ª—è –∏ –≤—ã–ø–ª–∞—Ç–∞

### –ü—Ä–æ—Ü–µ—Å—Å –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞:
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ, –Ω–æ –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç **–ë—Ä–∏–≥–∞–¥–∏—Ä** –∑–∞ –≤—Å—é –±—Ä–∏–≥–∞–¥—É
- –†–∞—Å—á–µ—Ç—ã —á–µ—Ä–µ–∑ **MassPersonnelReport**

## üí∞ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–æ–≤

–ò–¢–û–ì = (–ë–∞–∑–æ–≤–∞—è_—Å—Ç–∞–≤–∫–∞_—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏) √ó –û—Ç—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ_—á–∞—Å—ã
+ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (–ë–ï–ó –ß–ï–ö–ê)
+ –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ_—Ä–∞—Å—Ö–æ–¥—ã (–ü–û –ß–ï–ö–£)


### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞–≤–∫–∏:
1. –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (user_specialties.base_hourly_rate)
2. –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ (specialties.base_hourly_rate)  
3. –°—Ç–∞–≤–∫–∞ –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ (contractor_rates.hourly_rate)

## üë• –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å

### –ë–∞–∑–æ–≤—ã–µ —Ä–æ–ª–∏ (Spatie Permissions):
- **admin** - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **initiator** - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–∏—Ä–æ–≤
- **dispatcher** - –ö–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏
- **executor** - –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:
- **Executor** - –í—ã—Ö–æ–¥ –Ω–∞ —Å–º–µ–Ω—ã
- **Brigadier** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞ –æ–±—ä–µ–∫—Ç–µ
- **Brigadier-Initiator** - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ (—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ–±—è)

## üìä –ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### WorkRequest:
- `personnel_type: personalized | mass`
- `category_id` ‚Üí Category (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–º–µ—Ä–∞ –∑–∞—è–≤–∫–∏)
- `contractor_id` ‚Üí Contractor (–¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞)
- –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: `project_id`, `purpose_id`, `address_id`

### Shift:
- –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–ª—è: `base_rate`, `worked_minutes`, `compensation_amount`
- –°—Ç–∞—Ç—É—Å—ã: `scheduled` ‚Üí `active` ‚Üí `pending_approval` ‚Üí `completed` ‚Üí `paid`

### WorkType (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫):
- –¢–æ–ª—å–∫–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: `name`, `description`, `is_active`
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á–µ—Ç—ã –æ–ø–ª–∞—Ç—ã

## üéØ –¢–µ–∫—É—â–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø–æ–¥—Ä—è–¥—á–∏–∫–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏)
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ workflow —Ä–∞—Å—á–µ—Ç–æ–≤**
3. **–ù–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ API endpoints**

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏
- –£–ø—Ä–æ—â–µ–Ω–∞ –º–æ–¥–µ–ª—å WorkType
- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è –∏ —Å–≤—è–∑–∏
- –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
