# –ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É—é USER_ROLES.md
cat > docs/models/USER_ROLES.md << 'EOF'
# üë• User - –ê–∫—Ç—É–∞–ª—å–Ω–∞—è —Ä–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å

## üé≠ –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

### –ë–∞–∑–æ–≤—ã–µ —Ä–æ–ª–∏ (Spatie Permissions):
- **admin** - –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ
- **initiator** - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±—Ä–∏–≥–∞–¥–∏—Ä–æ–≤
- **dispatcher** - –ö–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏
- **executor** - –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

### –°–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è:
- **üë∑ Executor** (–±–∞–∑–æ–≤–æ–µ) - –í—ã—Ö–æ–¥ –Ω–∞ —Å–º–µ–Ω—ã, –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ —Å–º–µ–Ω
- **üéØ Brigadier** - –ù–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è –Ω–∞ –¥–∞—Ç—É, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥–æ–π –Ω–∞ –æ–±—ä–µ–∫—Ç–µ
- **üëë Brigadier-Initiator** - –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ (—Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ–±—è)

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:
- **üè¢ Contractor** - –í–Ω–µ—à–Ω–∏–µ –ø–æ–¥—Ä—è–¥—á–∏–∫–∏ (–æ—Ç–¥–µ–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å)
- **üë§ Contractor User** - –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–ª –ø–æ–¥—Ä—è–¥—á–∏–∫–∞

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:
```php
// –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
'name', 'surname', 'patronymic', 'phone', 'telegram_id'

// –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ
'contractor_id', // –°–≤—è–∑—å —Å –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–º (–¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞)
'contract_type_id', // –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
'tax_status_id', // –ù–∞–ª–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å

// –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
'specialties' // BelongsToMany —á–µ—Ä–µ–∑ user_specialties
```

### Accessors (–≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è):

* executor_type - –¢–∏–ø –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–Ω–∞—à/–ø–æ–¥—Ä—è–¥—á–∏–∫)

* user_type - –û–±—â–∏–π —Ç–∏–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

* full_name - –ü–æ–ª–Ω–æ–µ –§–ò–û

## üîó –ö–ª—é—á–µ–≤—ã–µ —Å–≤—è–∑–∏

### –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–≤–∫–∏:

```php
// –ú–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º —Å–æ —Å—Ç–∞–≤–∫–∞–º–∏
public function specialties()
{
    return $this->belongsToMany(Specialty::class, 'user_specialties')
        ->withPivot('base_hourly_rate');
}
```

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏—è –∏ –∑–∞—è–≤–∫–∏:
```php
// –ö–∞–∫ –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä
public function initiatedRequests() { return $this->hasMany(WorkRequest::class, 'initiator_id'); }

// –ö–∞–∫ –±—Ä–∏–≥–∞–¥–∏—Ä  
public function brigadierRequests() { return $this->hasMany(WorkRequest::class, 'brigadier_id'); }

// –ö–∞–∫ –¥–∏—Å–ø–µ—Ç—á–µ—Ä
public function dispatcherRequests() { return $this->hasMany(WorkRequest::class, 'dispatcher_id'); }

// –ë—Ä–∏–≥–∞–¥–∏—Ä—Å–∫–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è
public function brigadierAssignments() { return $this->hasMany(BrigadierAssignment::class, 'user_id'); }
```

## üéØ –ë—Ä–∏–≥–∞–¥–∏—Ä-–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º–∞

### –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤:
```php
// InitiatorGrant –º–æ–¥–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∞–º–∏
public function grantedInitiatorRights() { return $this->hasMany(InitiatorGrant::class, 'granted_to_id'); }
public function givenInitiatorRights() { return $this->hasMany(InitiatorGrant::class, 'granted_by_id'); }
```
### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ë—Ä–∏–≥–∞–¥–∏—Ä-–ò–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞:

* –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ–±—è

* –¢–æ–ª—å–∫–æ –Ω–∞ –¥–∞—Ç—ã —Å–≤–æ–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –±—Ä–∏–≥–∞–¥–∏—Ä–æ–º

* –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º –∏–Ω–∏—Ü–∏–∞—Ç–æ—Ä–∞
